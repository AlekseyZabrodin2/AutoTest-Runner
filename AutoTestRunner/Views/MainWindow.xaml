<Window
    x:Class="AutoTestRunner.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:convert="clr-namespace:AutoTestRunner.Converters"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:viewmodels="clr-namespace:AutoTestRunner.ViewModels"
    Title="AutoTests Launcher"
    Width="1020"
    Height="1000"
    d:DataContext="{d:DesignInstance Type=viewmodels:MainViewModel}"
    Icon="pack://application:,,,/AutoTestRunner;component/Resources/testIcon.ico"
    mc:Ignorable="d">

    <Window.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <materialDesign:BundledTheme
                    BaseTheme="Inherit"
                    ColorAdjustment="{materialDesign:ColorAdjustment}"
                    PrimaryColor="LightBlue"
                    SecondaryColor="Lime" />
                <ResourceDictionary Source="pack://application:,,,/MaterialDesignThemes.Wpf;component/Themes/MaterialDesignTheme.Button.xaml" />
            </ResourceDictionary.MergedDictionaries>

            <Style x:Key="ListBoxItemStyle" TargetType="ListBoxItem">
                <Style.Resources>
                    <!--  Ресурс для установки прозрачного цвета при выделении  -->
                    <SolidColorBrush x:Key="{x:Static SystemColors.HighlightBrushKey}" Color="Transparent" />
                    <SolidColorBrush x:Key="{x:Static SystemColors.HighlightTextBrushKey}" Color="Black" />
                </Style.Resources>
            </Style>
            <Style x:Key="GridRowHighlightStyle" TargetType="Border">
                <Style.Triggers>
                    <DataTrigger Binding="{Binding IsAutoTestRunnerSelected}" Value="True">
                        <Setter Property="Background" Value="#E0E3C4" />
                    </DataTrigger>
                    <DataTrigger Binding="{Binding IsAutoTestRunnerSelected}" Value="False">
                        <Setter Property="Visibility" Value="Hidden" />
                    </DataTrigger>
                </Style.Triggers>
            </Style>
            <Style x:Key="GridRowHighlightStyle1" TargetType="Border">
                <Style.Triggers>
                    <DataTrigger Binding="{Binding IsBagVisionPageSelected}" Value="True">
                        <Setter Property="Background" Value="#EAF9B6" />
                    </DataTrigger>
                    <DataTrigger Binding="{Binding IsBagVisionPageSelected}" Value="False">
                        <Setter Property="Visibility" Value="Hidden" />
                    </DataTrigger>
                </Style.Triggers>
            </Style>
            <Style x:Key="GridRowHighlightStyle2" TargetType="Border">
                <Style.Triggers>
                    <DataTrigger Binding="{Binding IsBatteryScanPageSelected}" Value="True">
                        <Setter Property="Background" Value="#FFD166" />
                    </DataTrigger>
                    <DataTrigger Binding="{Binding IsBatteryScanPageSelected}" Value="False">
                        <Setter Property="Visibility" Value="Hidden" />
                    </DataTrigger>
                </Style.Triggers>
            </Style>
            <Style x:Key="GridRowHighlightStyle3" TargetType="Border">
                <Style.Triggers>
                    <DataTrigger Binding="{Binding IsTestItSelected}" Value="True">
                        <Setter Property="Background" Value="#b5d7f3" />
                    </DataTrigger>
                    <DataTrigger Binding="{Binding IsTestItSelected}" Value="False">
                        <Setter Property="Visibility" Value="Hidden" />
                    </DataTrigger>
                </Style.Triggers>
            </Style>
            <convert:ResultStatusToColorConverter x:Key="ResultStatusToColorConverter" />
            <convert:AlternationBackgroundConverter x:Key="AlternationBackgroundConverter" />
            <convert:BooleanToWidthConverter x:Key="BooleanToWidthConverter" />
        </ResourceDictionary>
    </Window.Resources>


    <Border Padding="10" Background="Transparent">

        <Grid ShowGridLines="False">


            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>


            <Button
                Width="30"
                Height="30"
                Margin="10,5"
                Padding="0"
                HorizontalAlignment="Left"
                VerticalAlignment="Top"
                BorderBrush="Black"
                Command="{Binding ToggleMenuCommand}"
                Style="{StaticResource MaterialDesignRaisedDarkButton}">
                <materialDesign:PackIcon
                    Width="25"
                    Height="25"
                    HorizontalAlignment="Center"
                    VerticalAlignment="Center"
                    Kind="Menu" />
            </Button>

            <TextBlock
                Grid.Column="1"
                HorizontalAlignment="Center"
                VerticalAlignment="Center">
                <Image Source="pack://application:,,,/AutoTestRunner;component/Resources/LauncherLogo.png" />
            </TextBlock>

            <StackPanel
                x:Name="MenuPanel"
                Width="{Binding IsMenuOpen, Converter={StaticResource BooleanToWidthConverter}}"
                Margin="0,50,0,0"
                HorizontalAlignment="Left"
                VerticalAlignment="Top"
                Background="Transparent">
                <StackPanel
                    x:Name="ClosedMenuButtons"
                    Margin="0,30,0,0"
                    Visibility="Collapsed">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition />
                            <RowDefinition />
                            <RowDefinition />
                            <RowDefinition />
                        </Grid.RowDefinitions>
                        <Border Grid.Row="0" Style="{StaticResource GridRowHighlightStyle}">
                            <Button
                                Width="40"
                                Height="40"
                                Margin="10,5">
                                <Image
                                    Width="40"
                                    Height="40"
                                    VerticalAlignment="Center"
                                    Source="pack://application:,,,/AutoTestRunner;component/Resources/UniexpertLogoMini.png" />
                            </Button>
                        </Border>

                        <Border Grid.Row="1" Style="{StaticResource GridRowHighlightStyle1}">
                            <Button
                                Width="40"
                                Height="40"
                                Margin="10,5">
                                <Image
                                    Width="50"
                                    Height="50"
                                    VerticalAlignment="Center"
                                    Source="pack://application:,,,/AutoTestRunner;component/Resources/BagVisionMini.png" />
                            </Button>
                        </Border>
                        <Border Grid.Row="2" Style="{StaticResource GridRowHighlightStyle2}">
                            <Button
                                Width="40"
                                Height="40"
                                Margin="10,5">
                                <Image
                                    Width="50"
                                    Height="50"
                                    HorizontalAlignment="Center"
                                    VerticalAlignment="Center"
                                    Source="pack://application:,,,/AutoTestRunner;component/Resources/BatteryScanMini.png" />
                            </Button>
                        </Border>
                        <Border Grid.Row="3" Style="{StaticResource GridRowHighlightStyle3}">
                            <Button
                                Width="40"
                                Height="40"
                                Margin="10,5">
                                <Image Source="pack://application:,,,/AutoTestRunner;component/Resources/TestITMini.png" />
                            </Button>
                        </Border>
                    </Grid>
                </StackPanel>

                <StackPanel
                    x:Name="OpenMenuButtons"
                    Width="{Binding IsMenuOpen, Converter={StaticResource BooleanToWidthConverter}, Mode=TwoWay}"
                    Margin="-40,30,10,0"
                    HorizontalAlignment="Left"
                    VerticalAlignment="Top"
                    Background="Transparent">

                    <Button
                        Width="100"
                        Height="40"
                        Margin="5"
                        Padding="0"
                        BorderBrush="Black"
                        Command="{Binding NavigateCommand}"
                        CommandParameter="UniExpertPage"
                        Style="{StaticResource MaterialDesignRaisedDarkButton}">
                        <Grid>
                            <DockPanel>
                                <TextBlock
                                    Margin="5,0"
                                    FontSize="14"
                                    Text="UniExpert" />
                                <materialDesign:PackIcon
                                    Width="20"
                                    Height="20"
                                    HorizontalAlignment="Center"
                                    VerticalAlignment="Center"
                                    Kind="Radiation" />
                            </DockPanel>
                        </Grid>
                    </Button>
                    <Button
                        Width="100"
                        Height="40"
                        Margin="5"
                        Padding="0"
                        BorderBrush="Black"
                        Command="{Binding NavigateCommand}"
                        CommandParameter="BagVisionPage"
                        Style="{StaticResource MaterialDesignRaisedDarkButton}">
                        <Grid>
                            <DockPanel>
                                <TextBlock
                                    Margin="5,0"
                                    FontSize="14"
                                    Text="BagVision" />
                                <materialDesign:PackIcon
                                    Width="20"
                                    Height="20"
                                    HorizontalAlignment="Center"
                                    VerticalAlignment="Center"
                                    Kind="BagSuitcase" />
                            </DockPanel>
                        </Grid>
                    </Button>
                    <Button
                        Width="100"
                        Height="40"
                        Margin="5"
                        Padding="0"
                        BorderBrush="Black"
                        Command="{Binding NavigateCommand}"
                        CommandParameter="BatteryScanPage"
                        Style="{StaticResource MaterialDesignRaisedSecondaryDarkButton}">
                        <Grid>
                            <DockPanel>
                                <TextBlock
                                    Margin="5,0,0,0"
                                    FontSize="14"
                                    Text="BatteryScan" />
                                <materialDesign:PackIcon
                                    Width="20"
                                    Height="20"
                                    HorizontalAlignment="Center"
                                    VerticalAlignment="Center"
                                    Kind="Battery80" />
                            </DockPanel>
                        </Grid>
                    </Button>
                    <Button
                        Width="100"
                        Height="40"
                        Margin="5"
                        Padding="0"
                        BorderBrush="Black"
                        Command="{Binding NavigateCommand}"
                        CommandParameter="TestItPage"
                        Style="{StaticResource MaterialDesignRaisedSecondaryDarkButton}">
                        <Grid>
                            <DockPanel>
                                <TextBlock
                                    Margin="5,0,0,0"
                                    FontSize="14"
                                    Text="TestIt" />
                                <materialDesign:PackIcon
                                    Width="20"
                                    Height="20"
                                    HorizontalAlignment="Center"
                                    VerticalAlignment="Center"
                                    Kind="TestTube" />
                            </DockPanel>
                        </Grid>
                    </Button>
                </StackPanel>
                <VisualStateManager.VisualStateGroups>
                    <VisualStateGroup x:Name="MenuStates">
                        <VisualState x:Name="MenuClosed">
                            <Storyboard>
                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="ClosedMenuButtons" Storyboard.TargetProperty="Visibility">
                                    <DiscreteObjectKeyFrame KeyTime="0:0:0" Value="{x:Static Visibility.Visible}" />
                                </ObjectAnimationUsingKeyFrames>
                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="OpenMenuButtons" Storyboard.TargetProperty="Visibility">
                                    <DiscreteObjectKeyFrame KeyTime="0:0:0" Value="{x:Static Visibility.Collapsed}" />
                                </ObjectAnimationUsingKeyFrames>
                            </Storyboard>
                        </VisualState>
                        <VisualState x:Name="MenuOpen">
                            <Storyboard>
                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="ClosedMenuButtons" Storyboard.TargetProperty="Visibility">
                                    <DiscreteObjectKeyFrame KeyTime="0:0:0" Value="{x:Static Visibility.Collapsed}" />
                                </ObjectAnimationUsingKeyFrames>
                                <ObjectAnimationUsingKeyFrames Storyboard.TargetName="OpenMenuButtons" Storyboard.TargetProperty="Visibility">
                                    <DiscreteObjectKeyFrame KeyTime="0:0:0" Value="{x:Static Visibility.Visible}" />
                                </ObjectAnimationUsingKeyFrames>
                            </Storyboard>
                        </VisualState>
                    </VisualStateGroup>
                </VisualStateManager.VisualStateGroups>
            </StackPanel>

            <Frame
                x:Name="MainFrame"
                Grid.Column="1"
                IsEnabled="{Binding IsMainWindowEnabled}"
                NavigationUIVisibility="Hidden">
                <Frame.Effect>
                    <BlurEffect Radius="{Binding MainWinBlurEffectRadius}" />
                </Frame.Effect>
            </Frame>

        </Grid>
    </Border>




</Window>
